<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>just for fun</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:ital,wght@0,300;0,400;0,500;1,300&family=Crimson+Text:ital,wght@0,400;0,600;1,400&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --bg-dark: #0d0804;
            --bg-mid: #1a0f08;
            --text-primary: #e8d4a8;
            --text-highlight: #f5e6c8;
            --text-muted: #6b5a42;
            --text-hover: #fff8e7;
            --accent-gold: #c9a86c;
        }

        html, body {
            height: 100%;
            width: 100%;
            overflow: hidden;
        }

        body {
            font-family: 'Cormorant Garamond', 'Crimson Text', Georgia, serif;
            background: var(--bg-dark);
            color: var(--text-primary);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: flex-start;
            position: relative;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }

        /* Dark textured background */
        .bg-texture {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image: url('assets/background-texture.jpg');
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
            opacity: 0.7;
            z-index: 0;
        }

        /* Dark overlay for more depth */
        .bg-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(
                180deg,
                rgba(13, 8, 4, 0.4) 0%,
                rgba(26, 15, 8, 0.2) 50%,
                rgba(13, 8, 4, 0.5) 100%
            );
            z-index: 1;
        }

        /* Film grain overlay */
        .grain-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 1000;
            opacity: 0.12;
            background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.85' numOctaves='5' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)'/%3E%3C/svg%3E");
        }

        /* Vignette effect */
        .vignette {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 999;
            background: radial-gradient(
                ellipse at center,
                transparent 30%,
                rgba(5, 3, 1, 0.4) 70%,
                rgba(5, 3, 1, 0.8) 100%
            );
        }

        /* Main container */
        .container {
            width: 100%;
            max-width: 420px;
            height: 100%;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 10vh 2rem 5vh;
            position: relative;
            z-index: 10;
        }

        /* Vinyl section */
        .vinyl-section {
            width: 100%;
            display: flex;
            justify-content: center;
            margin-bottom: 3.5rem;
            position: relative;
        }

        .vinyl-wrapper {
            position: relative;
            width: 280px;
            height: 280px;
            -webkit-tap-highlight-color: transparent;
            user-select: none;
        }

        /* Vinyl click area */
        .vinyl-click-area {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            cursor: pointer;
            z-index: 2;
        }

        /* Realistic vinyl shadow - lifted effect */
        .vinyl-shadow {
            position: absolute;
            top: 15px;
            left: 15px;
            width: 100%;
            height: 100%;
            border-radius: 50%;
            background: radial-gradient(
                ellipse at 30% 30%,
                rgba(0, 0, 0, 0.5) 0%,
                rgba(0, 0, 0, 0.8) 50%,
                rgba(0, 0, 0, 0.95) 100%
            );
            filter: blur(20px);
            z-index: 1;
            transform: scale(0.95);
        }

        /* Secondary shadow for depth */
        .vinyl-shadow::after {
            content: '';
            position: absolute;
            top: -10px;
            left: -10px;
            width: calc(100% + 20px);
            height: calc(100% + 20px);
            border-radius: 50%;
            background: radial-gradient(
                ellipse at center,
                transparent 60%,
                rgba(0, 0, 0, 0.3) 100%
            );
            filter: blur(30px);
        }

        /* Vinyl record container for smooth rotation */
        .vinyl-container {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 2;
        }

        .vinyl-record {
            width: 100%;
            height: 100%;
            border-radius: 50%;
            object-fit: cover;
            display: block;
        }

        /* Smooth rotation - no wobble */
        .vinyl-container.spinning {
            animation: vinylSpin 1.8s linear infinite;
        }

        @keyframes vinylSpin {
            from {
                transform: rotate(0deg);
            }
            to {
                transform: rotate(360deg);
            }
        }

        /* Vinyl shine/reflection overlay */
        .vinyl-shine {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            border-radius: 50%;
            background: linear-gradient(
                135deg,
                rgba(255, 255, 255, 0.15) 0%,
                transparent 30%,
                transparent 70%,
                rgba(255, 255, 255, 0.05) 100%
            );
            pointer-events: none;
            z-index: 3;
        }

        /* Tonearm assembly */
        .tonearm-assembly {
            position: absolute;
            top: -30px;
            right: -40px;
            width: 160px;
            height: 220px;
            z-index: 10;
            cursor: pointer;
        }

        /* Tonearm base/pivot */
        .tonearm-base {
            position: absolute;
            top: 0;
            right: 0;
            width: 45px;
            height: 45px;
            background: linear-gradient(
                145deg,
                #3d3328 0%,
                #1f1810 50%,
                #0d0905 100%
            );
            border-radius: 50%;
            box-shadow:
                inset 1px 1px 2px rgba(255, 255, 255, 0.1),
                3px 3px 10px rgba(0, 0, 0, 0.6),
                0 0 0 2px rgba(0, 0, 0, 0.3);
        }

        .tonearm-base::after {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 15px;
            height: 15px;
            background: linear-gradient(
                145deg,
                #5a4d3d 0%,
                #2a2218 100%
            );
            border-radius: 50%;
            box-shadow: inset 1px 1px 2px rgba(0, 0, 0, 0.5);
        }

        /* Tonearm arm - rotates from pivot */
        .tonearm {
            position: absolute;
            top: 22px;
            right: 22px;
            width: 8px;
            height: 170px;
            background: linear-gradient(
                90deg,
                #4a4035 0%,
                #2d2418 30%,
                #1f1810 50%,
                #2d2418 70%,
                #4a4035 100%
            );
            border-radius: 4px;
            transform-origin: 50% 0;
            transform: rotate(-18deg); /* UPDATED: Better rest position */
            box-shadow:
                2px 2px 8px rgba(0, 0, 0, 0.5),
                inset 1px 0 1px rgba(255, 255, 255, 0.05);
            transition: transform 0.8s cubic-bezier(0.4, 0, 0.2, 1);
        }

        /* Tonearm head shell */
        .tonearm-head {
            position: absolute;
            bottom: -5px;
            left: 50%;
            transform: translateX(-50%);
            width: 18px;
            height: 35px;
            background: linear-gradient(
                180deg,
                #3d3328 0%,
                #1f1810 100%
            );
            border-radius: 3px;
            box-shadow:
                2px 2px 6px rgba(0, 0, 0, 0.5),
                inset 1px 1px 1px rgba(255, 255, 255, 0.05);
        }

        /* Cartridge/needle */
        .tonearm-head::after {
            content: '';
            position: absolute;
            bottom: -8px;
            left: 50%;
            transform: translateX(-50%);
            width: 4px;
            height: 12px;
            background: linear-gradient(
                180deg,
                #c9a86c 0%,
                #8b7355 100%
            );
            border-radius: 1px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.4);
        }

        /* Counterweight */
        .counterweight {
            position: absolute;
            top: 100px;
            right: 18px;
            width: 20px;
            height: 25px;
            background: linear-gradient(
                90deg,
                #2d2418 0%,
                #1f1810 50%,
                #2d2418 100%
            );
            border-radius: 3px;
            box-shadow: 2px 2px 6px rgba(0, 0, 0, 0.4);
        }

        /* Tonearm rest stand - NEW PROFESSIONAL STAND */
        .tonearm-rest-stand {
            position: absolute;
            top: 165px;
            right: -15px;
            width: 25px;
            height: 25px;
            background: linear-gradient(
                145deg,
                #2d2418 0%,
                #1a130c 50%,
                #0d0905 100%
            );
            border-radius: 3px;
            box-shadow:
                2px 2px 8px rgba(0, 0, 0, 0.6),
                inset 0 1px 1px rgba(255, 255, 255, 0.05);
            z-index: 9;
            transform: rotate(45deg);
        }

        /* Rest stand groove for needle */
        .tonearm-rest-stand::after {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 12px;
            height: 2px;
            background: linear-gradient(
                90deg,
                #5a4d3d 0%,
                #3d3328 50%,
                #5a4d3d 100%
            );
            border-radius: 1px;
            box-shadow: inset 0 0 2px rgba(0, 0, 0, 0.5);
        }

        /* Tonearm playing position - UPDATED FOR BETTER ALIGNMENT */
        .tonearm.playing {
            transform: rotate(15deg); /* UPDATED: Better playing position */
        }

        /* Tagline with highlighted text effect */
        .tagline {
            font-size: 1.25rem;
            font-weight: 400;
            letter-spacing: 0.1em;
            color: var(--text-highlight);
            text-align: center;
            margin-bottom: 2.5rem;
            text-shadow:
                0 0 20px rgba(201, 168, 108, 0.3),
                0 0 40px rgba(201, 168, 108, 0.1);
            opacity: 0.95;
        }

        /* Divider line with glow - UPDATED WIDTH: 80px to 120px */
        .divider {
            width: 120px;
            height: 1px;
            background: linear-gradient(
                90deg,
                transparent,
                rgba(201, 168, 108, 0.4),
                rgba(232, 212, 168, 0.6),
                rgba(201, 168, 108, 0.4),
                transparent
            );
            margin-bottom: 2.5rem;
            box-shadow: 0 0 10px rgba(201, 168, 108, 0.2);
        }

        /* Links section */
        .links {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 1.3rem;
            margin-bottom: auto;
        }

        .link {
            font-size: 1.1rem;
            font-weight: 400;
            letter-spacing: 0.14em;
            color: var(--text-primary);
            text-decoration: none;
            text-transform: lowercase;
            transition: all 0.3s ease;
            opacity: 0.9;
            position: relative;
            text-shadow: 0 0 10px rgba(232, 212, 168, 0.1);
        }

        .link::after {
            content: '';
            position: absolute;
            bottom: -3px;
            left: 50%;
            transform: translateX(-50%);
            width: 0;
            height: 1px;
            background: linear-gradient(
                90deg,
                transparent,
                var(--accent-gold),
                transparent
            );
            transition: width 0.3s ease;
            box-shadow: 0 0 8px rgba(201, 168, 108, 0.4);
        }

        .link:hover,
        .link:active {
            color: var(--text-hover);
            opacity: 1;
            text-shadow:
                0 0 15px rgba(232, 212, 168, 0.3),
                0 0 30px rgba(201, 168, 108, 0.2);
        }

        .link:hover::after,
        .link:active::after {
            width: 120%;
        }

        /* Footer with subtle glow - UPDATED OPACITY AND COLOR */
        .footer {
            font-size: 0.8rem;
            font-weight: 300;
            letter-spacing: 0.18em;
            color: var(--text-primary);
            text-transform: lowercase;
            opacity: 0.95;
            margin-top: 2rem;
            text-shadow: 0 0 12px rgba(201, 168, 108, 0.4);
        }

        /* Hidden audio element */
        audio {
            display: none;
        }

        /* Now playing indicator */
        .now-playing {
            position: absolute;
            bottom: -40px;
            left: 50%;
            transform: translateX(-50%);
            font-size: 0.75rem;
            font-weight: 300;
            letter-spacing: 0.1em;
            color: var(--accent-gold);
            opacity: 0;
            transition: opacity 0.5s ease;
            white-space: nowrap;
            text-shadow: 0 0 10px rgba(201, 168, 108, 0.3);
        }

        .now-playing.visible {
            opacity: 0.8;
        }

        /* Guidance text - IMPROVED VISIBILITY AND POSITION */
        .guidance {
            position: absolute;
            bottom: -50px; /* Moved up from -60px */
            left: 50%;
            transform: translateX(-50%);
            font-size: 0.7rem;
            font-weight: 300;
            letter-spacing: 0.1em;
            color: var(--text-highlight); /* Changed from muted to highlight */
            text-align: center;
            opacity: 0.9; /* Increased from 0.8 */
            transition: opacity 0.5s ease;
            white-space: nowrap;
            z-index: 5;
            text-shadow: 0 0 8px rgba(201, 168, 108, 0.4);
        }

        .guidance.hidden {
            opacity: 0;
            pointer-events: none;
        }

        /* Responsive adjustments */
        @media (min-height: 850px) {
            .container {
                padding-top: 12vh;
            }

            .vinyl-wrapper {
                width: 300px;
                height: 300px;
            }

            .vinyl-shadow {
                top: 18px;
                left: 18px;
            }
        }

        @media (max-height: 650px) {
            .container {
                padding-top: 8vh;
            }

            .vinyl-wrapper {
                width: 240px;
                height: 240px;
            }

            .tonearm-assembly {
                width: 140px;
                height: 190px;
            }

            .tagline {
                margin-bottom: 2rem;
                font-size: 1.1rem;
            }

            .divider {
                margin-bottom: 2rem;
            }
            
            .guidance {
                bottom: -45px;
            }
            
            .tonearm-rest-stand {
                top: 140px;
                right: -12px;
                width: 22px;
                height: 22px;
            }
        }

        @media (max-height: 550px) {
            .vinyl-wrapper {
                width: 200px;
                height: 200px;
            }

            .tonearm-assembly {
                width: 120px;
                height: 160px;
                top: -20px;
                right: -30px;
            }

            .tagline {
                font-size: 1rem;
                margin-bottom: 1.5rem;
            }
            
            .guidance {
                bottom: -40px;
                font-size: 0.65rem;
            }
            
            .tonearm-rest-stand {
                top: 115px;
                right: -10px;
                width: 20px;
                height: 20px;
            }
        }
    </style>
</head>
<body>
    <!-- Dark textured background -->
    <div class="bg-texture"></div>
    <div class="bg-overlay"></div>

    <!-- Film grain overlay -->
    <div class="grain-overlay"></div>

    <!-- Vignette effect -->
    <div class="vignette"></div>

    <!-- Main container -->
    <div class="container">
        <!-- Vinyl section -->
        <div class="vinyl-section">
            <div class="vinyl-wrapper">
                <!-- Realistic shadow -->
                <div class="vinyl-shadow"></div>

                <!-- Vinyl container for smooth rotation -->
                <div class="vinyl-container" id="vinylContainer">
                    <img src="assets/vinyl-record.png" alt="Vinyl record" class="vinyl-record">
                    <div class="vinyl-shine"></div>
                </div>

                <!-- Vinyl click area (for play/pause) -->
                <div class="vinyl-click-area" id="vinylClick"></div>

                <!-- Detailed tonearm assembly (for next track) -->
                <div class="tonearm-assembly" id="tonearmClick">
                    <div class="tonearm-base"></div>
                    <div class="tonearm" id="tonearm">
                        <div class="tonearm-head"></div>
                    </div>
                    <div class="counterweight"></div>
                    
                    <!-- NEW: Professional tonearm rest stand -->
                    <div class="tonearm-rest-stand"></div>
                </div>

                <!-- Guidance text -->
                <div class="guidance" id="guidance">tap vinyl to play</div>

                <!-- Now playing text -->
                <div class="now-playing" id="nowPlaying"></div>
            </div>
        </div>

        <!-- Tagline with highlighted effect -->
        <p class="tagline">i write code nd collect music.</p>

        <!-- Divider with glow -->
        <div class="divider"></div>

        <!-- Links -->
        <nav class="links">
            <a href="https://www.instagram.com/mentallyfuvkkedup/" class="link" target="_blank" rel="noopener">instagram</a>
            <a href="https://open.spotify.com/user/31pzqjv3mp74qojr6jvwkcgn4lvy?si=1BXcehAPRiOA9XqIP-Pvug" class="link" target="_blank" rel="noopener">spotify</a>
            <a href="mailto:sirrvetohere@gmail.com" class="link">mail</a>
        </nav>

        <!-- Footer -->
        <footer class="footer">crafted slowly</footer>
    </div>

    <!-- Hidden audio element -->
    <audio id="audioPlayer" preload="auto"></audio>

    <script>
        // Configuration - Update this array with your songs from the songs folder
        // Format: { filename: 'your-song.mp3', title: 'Your Song Title' }
        const defaultTracks = [
            { filename: 'song1.mp3', title: 'Song One' },
            { filename: 'song2.mp3', title: 'Song Two' },
            { filename: 'song3.mp3', title: 'Song Three' }
        ];

        // DOM elements
        const vinylClick = document.getElementById('vinylClick');
        const tonearmClick = document.getElementById('tonearmClick');
        const vinylContainer = document.getElementById('vinylContainer');
        const tonearm = document.getElementById('tonearm');
        const audioPlayer = document.getElementById('audioPlayer');
        const nowPlaying = document.getElementById('nowPlaying');
        const guidance = document.getElementById('guidance');

        // State
        let isPlaying = false;
        let currentTrack = null;
        let currentTrackIndex = -1;
        let tracks = [];
        let isFirstTap = true;

        // Load songs from JSON file or use defaults
        async function loadTracks() {
            try {
                const response = await fetch('songs/songs.json');
                if (response.ok) {
                    const data = await response.json();
                    tracks = data.tracks.map(t => ({
                        url: `songs/${t.filename}`,
                        title: t.title
                    }));
                } else {
                    tracks = defaultTracks.map(t => ({
                        url: `songs/${t.filename}`,
                        title: t.title
                    }));
                }
            } catch (error) {
                console.log('Using default tracks:', error);
                tracks = defaultTracks.map(t => ({
                    url: `songs/${t.filename}`,
                    title: t.title
                }));
            }

            // Select random track on page load
            selectRandomTrack();
        }

        // Select random track
        function selectRandomTrack() {
            if (tracks.length === 0) return;
            const randomIndex = Math.floor(Math.random() * tracks.length);
            currentTrackIndex = randomIndex;
            currentTrack = tracks[randomIndex];
            audioPlayer.src = currentTrack.url;
            nowPlaying.textContent = `now playing: ${currentTrack.title}`;
        }

        // Play next track
        function playNextTrack() {
            if (tracks.length === 0) return;
            
            // Select a different random track (not the current one)
            let nextIndex;
            do {
                nextIndex = Math.floor(Math.random() * tracks.length);
            } while (tracks.length > 1 && nextIndex === currentTrackIndex);
            
            currentTrackIndex = nextIndex;
            currentTrack = tracks[nextIndex];
            audioPlayer.src = currentTrack.url;
            nowPlaying.textContent = `now playing: ${currentTrack.title}`;
            
            // Play immediately
            audioPlayer.play().then(() => {
                isPlaying = true;
                vinylContainer.classList.add('spinning');
                tonearm.classList.add('playing');
                nowPlaying.classList.add('visible');
            }).catch(error => {
                console.log('Playback failed:', error);
            });
        }

        // Toggle play/pause
        function togglePlayback() {
            // Hide guidance on first tap
            if (isFirstTap) {
                guidance.classList.add('hidden');
                isFirstTap = false;
            }

            if (isPlaying) {
                pauseMusic();
            } else {
                playMusic();
            }
        }

        // Play music
        function playMusic() {
            audioPlayer.play().then(() => {
                isPlaying = true;
                vinylContainer.classList.add('spinning');
                tonearm.classList.add('playing');
                nowPlaying.classList.add('visible');
            }).catch(error => {
                console.log('Playback failed:', error);
            });
        }

        // Pause music
        function pauseMusic() {
            audioPlayer.pause();
            isPlaying = false;
            vinylContainer.classList.remove('spinning');
            tonearm.classList.remove('playing');
            nowPlaying.classList.remove('visible');
        }

        // Next track function
        function nextTrack() {
            // Hide guidance on first tap
            if (isFirstTap) {
                guidance.classList.add('hidden');
                isFirstTap = false;
            }
            
            playNextTrack();
        }

        // Event listeners
        vinylClick.addEventListener('click', togglePlayback);
        tonearmClick.addEventListener('click', nextTrack);
        
        // Touch events for mobile
        vinylClick.addEventListener('touchstart', (e) => {
            e.preventDefault();
            togglePlayback();
        }, { passive: false });
        
        tonearmClick.addEventListener('touchstart', (e) => {
            e.preventDefault();
            nextTrack();
        }, { passive: false });

        // Handle audio ended
        audioPlayer.addEventListener('ended', () => {
            isPlaying = false;
            vinylContainer.classList.remove('spinning');
            tonearm.classList.remove('playing');
            nowPlaying.classList.remove('visible');
            
            // Auto-play next track when current ends
            setTimeout(() => {
                playNextTrack();
            }, 1000);
        });

        // Handle audio error (file not found)
        audioPlayer.addEventListener('error', () => {
            console.log('Audio file not found');
        });

        // Initialize
        loadTracks();
    </script>
</body>
</html>
